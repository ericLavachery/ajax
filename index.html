<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <title>AJAX JSON ex1</title>
</head>
<body>


<h2>The XMLHttpRequest Object</h2>
<div id="demo"></div>
<div id="demo2"></div>

<script>

    var xhttp = new XMLHttpRequest();
    xhttp.onreadystatechange = function() {
        if (this.readyState == 4 && this.status == 200) {
            messJSON = this.responseText;
            // console.log(messJSON);
            // document.getElementById("demo").innerHTML = messJSON;
            messJUAN = JSON.parse(messJSON);
            // console.log(messJUAN);

            var i = 0;
            while (i != messJUAN.length) {
                document.writeln('<strong>' + messJUAN[i].nickname + '</strong><br>');
                document.writeln(messJUAN[i].message + '<br>');
                i = i + 1;
            }

        }
    };
    xhttp.open("GET", "messages.json", true);
    xhttp.send();

</script>

</body>
</html>
